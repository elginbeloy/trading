TECH_SYMBOLS_SMALL = ['AAPL', 'MSFT', 'PYPL', 'TWTR', 'FB', 'GOOG', 'GME', 'ZM', 'SNAP', 'AMZN', 'WB', 'HUBS', 'SOCL', 'MOMO', 'SINA', 'NTES', 'MOXC', 'SRAX']

ROBINHOOD_COLLECTION_SYMBOLS = ['PTC', 'TDE', 'UMC', 'MPWR', 'MSI', 'MVBF', 'WBAI', 'GLUU', 'STRM', 'MOM', 'CME', 'ALB', 'DELL', 'OMER', 'OPGN', 'ENTX', 'STX', 'CARV', 'MGIC', 'CS', 'EXAS', 'UBOH', 'ADTN', 'CSPI', 'ALLO', 'AT&T', 'DJCO', 'VTVT', 'WIX', 'PPSI', 'AAL', 'CLSD', 'RFDI', 'AYX', 'REPL', 'SPLV', 'HPQ', 'SAVE', 'UTRN', 'SMED', 'SIRI', 'OFLX', 'RVLV', 'MS-E', 'QCRH', 'PEX', 'BAP', 'FCBP', 'XPH', 'SPCE', 'CBMB', 'CMBM', 'UBS', 'MU', 'INOV', 'MRAM', 'DXR', 'RF-B', 'KOSS', 'CBOE', 'BAM', 'XPEV', 'SNCA', 'OVLY', 'IRMD', 'SBNY', 'NBHC', 'WSTG', 'VIR', 'MBIO', 'APO', 'CUBI', 'T', 'CBAY', 'INO', 'NTNX', 'EXEL', 'EWQ', 'HBMD', 'TSEM', 'EP-C', 'C-J', 'SNCR', 'CARS', 'CRON', 'TLH', 'MFG', 'INSG', 'SMTC', 'MBIN', 'APTX', 'BCML', 'RBB', 'RDVT', 'OGI', 'BNGO', 'PWOD', 'VFLQ', 'NCR', 'FFBC', 'FVRR', 'OMCL', 'ROSC', 'JPM', 'SCSC', 'MUC', 'SHBI', 'TOWN', 'GSIT', 'CBTX', 'GPN', 'ASRV', 'XLRN', 'SLB', 'AMC', 'EWUS', 'FLOW', 'AQB', 'OTLK', 'SEAC', 'ADP', 'BCS', 'VTI', 'CB', 'PBCT', 'DRRX', 'LGL', 'TAIT', 'SOCL', 'XWEB', 'PLUG', 'DHI', 'EVC', 'EBND', 'SIEB', 'EVRI', 'SHEN', 'RRBI', 'GPRO', 'SIEN', 'MXL', 'ICUI', 'FDNI', 'JD', 'CIZN', 'DIOD', 'PAR', 'FEIM', 'MHH', 'SEE', 'TEF', 'ANDE', 'MHK', 'MS', 'VSAT', 'GLMD', 'VMW', 'KKR', 'TLND', 'GUSH', 'KBAL', 'NK', 'SIX', 'KPTI', 'AEIS', 'SPI', 'WEI', 'AWRE', 'BE', 'OFC', 'FFHG', 'FOXA', 'OTEX', 'VNET', 'CID', 'GBT', 'EXTR', 'WTBA', 'FMNB', 'AMZN', 'ASUR', 'ZSAN', 'SWCH', 'MIXT', 'INUV', 'UAPR', 'TXT', 'GS', 'MRIN', 'LOGI', 'NVDA', 'SPX', 'CSGP', 'LBC', 'SESN', 'CFFN', 'BGNE', 'LSCC', 'DD', 'IESC', 'FIVE', 'TEAM', 'RILY', 'LQDH', 'UBER', 'COWN', 'PSTV', 'UROV', 'GD', 'RIOT', 'BFRA', 'AVAL', 'MVIS', 'CNSL', 'CCNE', 'OSBC', 'DNLI', 'C', 'DCO', 'ENDP', 'NOAH', 'VYGR', 'KRTX', 'SCKT', 'VSE', 'HMC', 'APRE', 'SFB', 'GOGO', 'ANET', 'LZB', 'IDEX', 'GILD', 'ACIU', 'ADI', 'CVV', 'AGLE', 'TLK', 'USM', 'GTN', 'CNCE', 'HXL', 'GDS', 'HALO', 'ANCN', 'MICT', 'EXLS', 'MCHX', 'KMDA', 'IDXX', 'MCEF', 'ATNX', 'CSX', 'OGEN', 'FENG', 'UCBI', 'PDFS', 'MRVL', 'ECOM', 'NATH', 'AGZ', 'PRVB', 'PI', 'NEON', 'MUFG', 'MNKD', 'PNNT', 'NTRA', 'EPZM', 'WBK', 'RCI', 'CRIS', 'IDIV', 'OZK', 'DGII', 'CLVS', 'APM', 'QRVO', 'FLIR', 'MRSN', 'OCSL', 'CAC', 'YXI', 'VZ', 'CASI', 'CWBR', 'IBM', 'SPPI', 'KURA', 'ARVN', 'KIN', 'TER', 'CBB', 'SMSI', 'COLB', 'AVUV', 'HAS', 'EVBG', 'BXS', 'JNPR', 'XENE', 'WCLD', 'UBSI', 'SRNE', 'RNWK', 'PCB', 'NOW', 'FTV', 'FULT', 'CPSH', 'NAV', 'QAD', 'EA', 'SPLP', 'SCHQ', 'OPRX', 'FB', 'IJK', 'NKE', 'IEP', 'PTE', 'GEVO', 'MYOV', 'HAE', 'DMAC', 'IEDI', 'GRUB', 'GGAL', 'BANF', 'DIM', 'MS-F', 'SE', 'MOMO', 'VIOT', 'BLX', 'PRAH', 'OFG', 'KERN', 'WRAP', 'CPST', 'BPOP', 'AVAV', 'CANF', 'HLAL', 'CNOB', 'MPB', 'WAFD', 'KO', 'WPS', 'HPE', 'ADBE', 'LMNL', 'NYCB', 'KEY', 'ILMN', 'SOXX', 'AZO', 'EAF', 'MORF', 'PLAY', 'TESS', 'ICHR', 'CCM', 'SJR', 'TRT', 'TNXP', 'ACER', 'ATOM', 'HFWA', 'IFS', 'FMAO', 'SASR', 'BBD', 'EYEN', 'SVVC', 'PLAB', 'EVTC', 'EXFO', 'ALNY', 'ISEE', 'DOYU', 'SNPS', 'AKAM', 'MLND', 'GVP', 'NEWT', 'CLRO', 'STSA', 'NBTB', 'PCTY', 'GLW', 'TRMB', 'CAPR', 'NXPI', 'SLS', 'RAMP', 'TXMD', 'HURN', 'V', 'ALT', 'DAL', 'TDK', 'EWW', 'SCHM', 'CEVA', 'SAP', 'TGH', 'NSP', 'AMJ', 'SF-A', 'BIDU', 'GTT', 'SNGX', 'CVM', 'ITCB', 'MEDP', 'MOSY', 'BSQR', 'ORAN', 'TRVG', 'BL', 'KLAC', 'TTWO', 'PYPL', 'PSEC', 'SLAB', 'NFLX', 'IMGN', 'CLOU', 'GFF', 'SFYF', 'IMMR', 'VTC', 'MLPY', 'SCZ', 'EBSB', 'UTSI', 'BCE', 'FIS', 'CMA', 'TNET', 'TDY', 'YCL', 'AX', 'FSLY', 'WWE', 'FPEI', 'LI', 'IBCP', 'CBNK', 'HSKA', 'GOOG', 'SBFG', 'THMO', 'NNDM', 'ICPT', 'HUYA', 'RGNX', 'NICE', 'TD', 'ISDR', 'DOV', 'XBIO', 'SYBT', 'CHCO', 'ACB', 'ARNA', 'JMM', 'LHX', 'BB', 'FHN', 'AMBA', 'TRHC', 'ITCI', 'TA', 'XNCR', 'PFE', 'NLTX', 'TWOU', 'EQ', 'AVDL', 'QCR', 'ZNGA', 'MLAB', 'BMO', 'STOK', 'MGM', 'PKE', 'FBP', 'ZTE', 'KOPN', 'IFRX', 'LIQT', 'AGS', 'APTO', 'ALOT', 'IBN', 'PANW', 'BA', 'GS-C', 'EMQQ', 'AOSL', 'ACES', 'OPNT', 'RUBY', 'IQ', 'WKHS', 'CASH', 'FREQ', 'NWL', 'SOGO', 'KVHI', 'AKTX', 'TTOO', 'FUE', 'GRVY', 'DIS', 'SYKE', 'HP', 'PFLT', 'MRO', 'GM', 'OCX', 'FCCO', 'NVEE', 'SBT', 'ATRO', 'LE', 'VIRT', 'ATAX', 'JKS', 'AMKR', 'BBVA', 'AAOI', 'APLS', 'BIIB', 'BSBR', 'WFC', 'UZA', 'PNBK', 'VKTX', 'HON', 'SKYY', 'ARGX', 'ZM', 'SOLO', 'CADE', 'PRK', 'SBGI', 'HWKN', 'SITM', 'PIPR', 'BAND', 'OKTA', 'ULVM', 'PSP', 'JEF', 'FMBI', 'AXON', 'BLU', 'ZOM', 'MXIM', 'UGP', 'POLA', 'CMO', 'PACW', 'VECO', 'CRM', 'POWI', 'GSK', 'AME', 'ON', 'CACI', 'KFFB', 'LSBK', 'ADMA', 'PRPO', 'TTGT', 'ABCB', 'CAMP', 'ADMP', 'MCRB', 'BOSC', 'BAC', 'ITGR', 'RMBS', 'CCL', 'VSH', 'GSUM', 'SPRO', 'CHKP', 'QIWI', 'CAPL', 'SIVB', 'TXN', 'ADIL', 'BPMC', 'AGTC', 'NETL', 'BH', 'DB', 'ARKK', 'KZR', 'BW', 'ALKS', 'PTON', 'BRKS', 'PMBC', 'URGN', 'AEZS', 'CWEB', 'AMOT', 'CNNE', 'WB', 'SRPT', 'SNAP', 'CYTK', 'DTSS', 'GRTX', 'HLI', 'BABA', 'BX', 'MBT', 'CPRT', 'AMD', 'HEAR', 'KAR', 'JNJ', 'ETN', 'PCYG', 'QDEL', 'SAN', 'CHIK', 'GS-N', 'LUV', 'MFA', 'TGTX', 'THFF', 'SNE', 'CAMT', 'HEXO', 'GWRE', 'APLT', 'AMG', 'GABC', 'NWSA', 'INTC', 'CIB', 'PJT', 'HQL', 'EPAY', 'JBLU', 'TBPH', 'TDC', 'GALT', 'JG', 'WEX', 'DGLY', 'BLNK', 'INFI', 'AUPH', 'UZB', 'AVT', 'CFG', 'OSMT', 'DSGX', 'ZBRA', 'INOD', 'CVU', 'ACLS', 'FISV', 'MANT', 'SFET', 'FNWB', 'VOO', 'MT', 'LLNW', 'ASYS', 'ATOS', 'TRN', 'ABNB', 'F', 'ACIW', 'VSEC', 'SVA', 'FFNW', 'LRCX', 'CDAY', 'PKBK', 'QCOM', 'OPBK', 'CRUS', 'AFMD', 'RAPT', 'ABC', 'CPIX', 'MMM', 'IDCC', 'MSFT', 'SINA', 'LKCO', 'UCC', 'PBYI', 'CHRS', 'MS-A', 'AMAT', 'OCUL', 'EEFT', 'BMTC', 'BUSE', 'ABBV', 'FIVN', 'FFWM', 'INSM', 'SIFY', 'SPXC', 'LKFN', 'MEI', 'LYG', 'RJF', 'CERC', 'FATE', 'TSM', 'CYBE', 'EVR', 'AZN', 'AAPL', 'NVO', 'AMRX', 'UZC', 'GMAB', 'WTT', 'MDYV', 'PENN', 'LOB', 'AXP', 'EXR', 'IQDF', 'ORMP', 'DBX', 'DHX', 'JHMU', 'SAGE', 'MS-K', 'SF', 'C-K', 'NBY', 'BMY', 'WRLD', 'CONE', 'FOX', 'ING', 'BVN', 'CREX', 'TSC', 'CLIR', 'SHOP', 'EQIX', 'SHSP', 'ZKIN', 'XTLB', 'MBOT', 'CGC', 'AVLR', 'OIIM', 'OPHC', 'KVH', 'EVBN', 'LITE', 'CVCY', 'CABA', 'PCTI', 'TCBK', 'ET', 'TRVN', 'LTRX', 'ASX', 'NPTN', 'RMNI', 'CM', 'RIGS', 'ARKF', 'NRIM', 'MTSI', 'TWTR', 'FGBI', 'QTS', 'KOD', 'RBBN', 'VBLT', 'TYL', 'NRZ', 'ESPR', 'INTU', 'RMBI', 'HDB', 'HKIB', 'ENG', 'SIMO', 'DVAX', 'FRBA', 'NBIX', 'FCEL', 'ACWX', 'CZZ', 'INFY', 'ORCL', 'UCTT', 'NETE', 'RZA', 'BBAR', 'ONTO', 'NKLA', 'CW', 'MRNA', 'ARWR', 'SYNA', 'JMP', 'AVGR', 'SPFI', 'AKRO', 'RF-A', 'RYTM', 'ANSS', 'MBWM', 'RVNC', 'NERV', 'CTG', 'ITT', 'QADB', 'OPY', 'OCGN', 'APWC', 'ROP', 'IT', 'IVR', 'PXLW', 'INFN', 'ITP', 'CUB', 'LBAI', 'ADMS', 'CCRC', 'KLA', 'ENZ', 'PACB', 'ENPH', 'CSLT', 'VEEV', 'MRBK', 'ZYME', 'KF', 'SQ', 'ICAD', 'GS-A', 'USB', 'TCPC', 'SBUX', 'XLNX', 'TCF', 'PRGO', 'SEDG', 'QADA', 'VGT', 'SY', 'NH', 'SCHW', 'BDC', 'CGNX', 'CATC', 'CREE', 'ATEN', 'BTZ', 'MDRX', 'RF', 'GPX', 'FISI', 'AVID', 'DRNA', 'SILC', 'LQDT', 'CAE', 'CBIO', 'DHR', 'HCHC', 'PKX', 'RY-T', 'RETA', 'RCL', 'NKTR', 'CLGX', 'IPHI', 'NTWK', 'ASB', 'OSS', 'WVE', 'GDOT', 'AIZP', 'AEYE', 'YRD', 'NCLH', 'TLSA', 'GRA', 'UAL', 'NTES', 'VERB', 'RYT', 'QUMU', 'SNX', 'ADS', 'PSN', 'IGT', 'ALL', 'TRC', 'USWS', 'IHG', 'ITUB', 'NOK', 'WDC', 'DSPG', 'GAMR', 'CRMD', 'INBK', 'DMRC', 'IONS', 'DLR', 'DDD', 'VRNS', 'PLTR', 'GSM', 'ARES', 'ESQ', 'CFB', 'SNDL', 'TMUS', 'GS-D', 'TEO', 'HQH', 'ABEO', 'PRO', 'NEWR', 'RDUS', 'BLUE', 'CDW', 'TRIL', 'IES', 'CTXS', 'NWS', 'AMBO', 'HWC', 'PRGS', 'IRM', 'SQNS', 'MCHP', 'SOXL', 'MRUS', 'ATNI', 'SWKS', 'CIEN', 'SPRT', 'XOM', 'FBC', 'CCIV', 'GME', 'CAN', 'CTIC', 'WOW', 'AGO', 'ALTR', 'CBMG', 'GE', 'CMCM', 'BCOV', 'ITI', 'XCEM', 'BK', 'TSLA', 'CSGS', 'MX', 'BDR', 'FENC', 'APPF', 'GDDY', 'FBIO', 'BZUN', 'PICK', 'NMFC', 'NIO', 'SRT', 'FDS', 'BYD', 'LEO', 'GRES', 'AXSM', 'MCB', 'SMH', 'SINT', 'VSMV', 'CMD', 'CIK', 'CFR', 'SCPH', 'WMT', 'CBSH', 'KOS', 'FMBH', 'SIBN', 'BKNG', 'MS-I', 'INCY', 'WSBC', 'NHLD', 'FLEX', 'CPF', 'ASPU', 'XBIT', 'DE', 'ECL', 'SUNS', 'SVBI', 'CDNS', 'HIMX', 'BC', 'CRWD', 'PSCU', 'CPRX', 'XRX', 'RY', 'VERI', 'EGAN', 'STM', 'SGH', 'ADXS', 'FARO', 'SHY', 'OCFC', 'AUDC', 'ATVI', 'PFFR', 'IMOS', 'APHA', 'QTT', 'GSBD', 'GS-J', 'AVGO', 'GWW', 'SPY', 'BKSC', 'ACGL', 'BANC', 'GLBZ', 'GBL', 'DBVT', 'BTAI', 'CASS', 'CHT']

if __name__ == '__main__':
  import requests 
  from bs4 import BeautifulSoup 

  # Symbols that cannot be retrieved from Polygon but appear in collections.
  exclude_symbols = ['IPDN', 'EVGN', 'DKNG', 'CBAT', 'TLRY', 'BHC', 'CMLS', 'LASR', 'KNSA', 'ORTX', 'IGC', 'CSP']

  collection_urls = [
    'https://robinhood.com/collections/100-most-popular',
    'https://robinhood.com/collections/internet',
    'https://robinhood.com/collections/technology',
    'https://robinhood.com/collections/information-technology'
    'https://robinhood.com/collections/social-media',
    'https://robinhood.com/collections/semiconductor',
    'https://robinhood.com/collections/pharmaceutical',
    'https://robinhood.com/collections/biotechnology',
    'https://robinhood.com/collections/biopharmaceutical',
    'https://robinhood.com/collections/cloud-computing',
    'https://robinhood.com/collections/computer-software',
    'https://robinhood.com/collections/computer-hardware',
    'https://robinhood.com/collections/data-service',
    'https://robinhood.com/collections/electronics',
    'https://robinhood.com/collections/enterprise-software',
    'https://robinhood.com/collections/video-game',
    'https://robinhood.com/collections/software-service',
    'https://robinhood.com/collections/conglomerate',
    'https://robinhood.com/collections/finance',
    'https://robinhood.com/collections/banking',
    'https://robinhood.com/collections/commercial-banking',
    'https://robinhood.com/collections/investment-banking',
    'https://robinhood.com/collections/private-equity',
  ]

  # Gets a list of unique symbols from a list of robinhood collection URLs
  def get_rb_collection_symbols():
    ticker_symbols = set()
    for collection_url in collection_urls:
      r = requests.get(collection_url) 
      soup = BeautifulSoup(r.content, 'html5lib') 
      elms = soup.findAll('a', attrs = {'class':'rh-hyperlink qD5a4psv-CV7GnWdHxLvn AaXTyP3x99eRIDW0ExfYP'})
      for row in elms:
        text = row.div.text
        if text and text.isupper() and not any(i.isdigit() for i in text) and len(text) < 5 and text not in exclude_symbols:
          ticker_symbols.add(text)

    return list(ticker_symbols)

  ROBINHOOD_COLLECTION_SYMBOLS = get_rb_collection_symbols()
  print(ROBINHOOD_COLLECTION_SYMBOLS)
  print(len(ROBINHOOD_COLLECTION_SYMBOLS))